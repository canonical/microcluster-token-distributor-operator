# This file configures Charmcraft.
# See https://juju.is/docs/sdk/charmcraft-config for guidance.

# (Required)
name: microcluster-token-distributor


# (Required)
type: charm


# (Recommended)
title: Microcluster Token Distrbutor Charm


# (Required)
summary: A distributon method for microocluster tokens


# (Required)
description: |
  A mirror to allow microcluster charms to distribute join tokens without using
  the peer relation. This was created for the microovn charm but it should be
  able to be used on any microcluster.


# (Required for 'charm' type)
base: ubuntu@24.04
platforms:
  amd64:
    build-on: [amd64]
    build-for: [amd64]

parts:
  charm:
    build-packages:
      - git
      - python3-dev


config:
  options:
    log-level:
      default: "info"
      type: string

peers:
  cluster:
    interface: worker-cluster

provides:
  microcluster-cluster:
    interface: worker-cluster
